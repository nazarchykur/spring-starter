<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

<!--    для прикладу щоб показати коли ми шукаємо бін по класу і коли є кілька, то буде  NoUniqueBeanDefinitionException-->
<!--    <bean class="com.study.spring.database.pool.ConnectionPool" />-->
<!--    <bean class="com.study.spring.database.pool.ConnectionPool" />-->

<!--    коли ми добавляємо унікальні ідентифікатори   id -->
<!--    <bean id="pool1" class="com.study.spring.database.pool.ConnectionPool" />-->
<!--    <bean id="pool2" class="com.study.spring.database.pool.ConnectionPool" />-->

<!--    коли ми добавляємо унікальні ідентифікатори   id, також можна передавати аліаси, які записуємо у  name, але вони також мають бути унікальними-->
<!--    аліаси даємо тоді коли хочемо використати більш доцільну назву біна-->
<!--    <bean id="pool1" name="p1, p10" class="com.study.spring.database.pool.ConnectionPool" />-->
<!--    <bean id="pool2" name="p2" class="com.study.spring.database.pool.ConnectionPool" />-->
    
    
<!--    так як ми добавили поля до  ConnectionPool.java  , і ініціалізуємо їх через конструктор, то дефолтного конструктора уже немає і тут буде помилка-->
                    <!--    <bean id="pool1" name="p1, p10" class="com.study.spring.database.pool.ConnectionPool" /> // помилка-->
                    <!--    <bean id="pool2" name="p2" class="com.study.spring.database.pool.ConnectionPool" /> // помилка-->
    
    
    
<!--    якшо ми маємо конструктор, то передаємо поля по порядку через constructor-arg  у  bean -->
<!--    через constructor-arg  у   value записуємо значення  value="якесь значення"  або  value="10" -->
<!--    тобто  String і всі примітиви ми передаємо у  value  і СПРІНГ сам конвертує наприклад наш Integer => String -->
<!--                  <constructor-arg value="postgress" />-->
<!--                  <constructor-arg value="10" />-->
    
<!--    щодо колекцій, то тут використовуємо додатковий відповідний тег  list, set, map  всередині  constructor-arg,-->
<!--            де всередині самого тегу  list, set перераховуємо  <value>-arg1=value1</value>                     -->

<!--                  <constructor-arg>-->
<!--                       <list>-->
<!--                            <value>&#45;&#45;arg1=value1</value>-->
<!--                            <value>&#45;&#45;arg2=value2</value>-->
<!--                       </list>-->
<!--                    </constructor-arg>-->

<!--            якщо це  map-->
<!--                    <constructor-arg name="properties" type="java.util.Map">-->
<!--                         <map>-->
<!--                            <entry key="url" value="postgresurl"/>-->
<!--                            <entry key="password" value="123"/>-->
<!--                         </map>-->
<!--                    </constructor-arg>-->
    
    
<!--    <bean id="pool1" name="p1, p10" class="com.study.spring.database.pool.ConnectionPool">-->
<!--        <constructor-arg value="postgress" />-->
<!--        <constructor-arg value="10" />-->
<!--        <constructor-arg>-->
<!--            <list>-->
<!--                <value>&#45;&#45;arg1=value1</value>-->
<!--                <value>&#45;&#45;arg2=value2</value>-->
<!--            </list>-->
<!--        </constructor-arg>-->

<!--        <constructor-arg name="properties" type="java.util.Map">-->
<!--            <map>-->
<!--                <entry key="url" value="postgresurl"/>-->
<!--                <entry key="password" value="123"/>-->
<!--            </map>-->
<!--        </constructor-arg>-->
<!--    </bean>-->
    
    
    
<!--    поля мають бути строго по порядку, але можна добавити через  index цей порядок і самі теги можуть бути не по порядку-->

<!--    <bean id="pool1" name="p1, p10" class="com.study.spring.database.pool.ConnectionPool">-->
<!--        <constructor-arg index="0" value="postgress" />-->
<!--        <constructor-arg index="3" name="properties" type="java.util.Map">-->
<!--            <map>-->
<!--                <entry key="url" value="postgresurl"/>-->
<!--                <entry key="password" value="123"/>-->
<!--            </map>-->
<!--        </constructor-arg>-->

<!--        <constructor-arg index="2">-->
<!--            <list>-->
<!--                <value>&#45;&#45;arg1=value1</value>-->
<!--                <value>&#45;&#45;arg2=value2</value>-->
<!--            </list>-->
<!--        </constructor-arg>-->
<!--        <constructor-arg index="1" value="10" />-->
<!--    </bean>-->


<!--    через тег  type вказуємо тип значення -->
<!--        це потрібно для того, щоб знати який саме конструктор викликати, якщо у нас їх буде кілька -->
    
<!--    <bean id="pool1" name="p1, p10" class="com.study.spring.database.pool.ConnectionPool">-->
<!--        <constructor-arg index="0" type="java.lang.String" value="postgress" />-->
<!--        <constructor-arg index="3" name="properties" type="java.util.Map">-->
<!--            <map>-->
<!--                <entry key="url" value="postgresurl"/>-->
<!--                <entry key="password" value="123"/>-->
<!--            </map>-->
<!--        </constructor-arg>-->

<!--        <constructor-arg index="2" type="java.util.List">-->
<!--            <list>-->
<!--                <value>&#45;&#45;arg1=value1</value>-->
<!--                <value>&#45;&#45;arg2=value2</value>-->
<!--            </list>-->
<!--        </constructor-arg>-->
<!--        <constructor-arg index="1" type="java.lang.Integer" value="10" />-->
<!--    </bean>-->


    
    
<!--    замість index ми можемо вказати назву нашого параметру, що є більш наглядно-->

    <bean id="pool1" name="p1, p10" class="com.study.spring.database.pool.ConnectionPool">
        <constructor-arg name="username" type="java.lang.String" value="postgress" />
        <constructor-arg name="properties" type="java.util.Map">
            <map>
                <entry key="url" value="postgresurl"/>
                <entry key="password" value="123"/>
            </map>
        </constructor-arg>

        <constructor-arg name="args" type="java.util.List">
            <list>
                <value>--arg1=value1</value>
                <value>--arg2=value2</value>
            </list>
        </constructor-arg>
        <constructor-arg name="poolSize" type="java.lang.Integer" value="10" />
    </bean>

    <bean id="driver" class="java.lang.String">
        <constructor-arg type="java.lang.String" value="PostgresDriver"/>
    </bean>
    
</beans>